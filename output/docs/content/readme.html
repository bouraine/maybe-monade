
<html><head></head><body><h1 id="maybe-monade">maybe-monade</h1>
<hr />
<p>Maybe monad implementation in Typescript.
Inspired from Haskell Maybe and Java Optional&lt;T&gt;</p>
<blockquote>
<p>Maybe monad is an abstraction for values that may or may not exist</p>
</blockquote>
<blockquote>
<p>Maybe does not replace the exceptions macanisme but in most cases the use of Maybe to represent the non-existence of a value is more appropriate.</p>
</blockquote>
<h2 id="installation">Installation</h2>
<hr />
<p><code>npm i --save maybe-monade</code></p>
<h3 id="chaining-functions--flatmap-map-do-and-getorelse-">Chaining functions (flatmap, map, do and getOrElse)</h3>
<pre><code>const isUserAuthenticated: boolean = getUserById(2)
    .flatMap(getUserToken)
    .map&lt;boolean&gt;(appuser =&gt; appuser.expire &gt; new Date())
    .do(x =&gt; console.log)
    .getOrElse(false);

expect(isUserAuthenticated).toBeTruthy();
</code></pre><h3 id="chaining-functions-inside-array-map">Chaining functions inside array map</h3>
<pre><code>const appuser: IAppUser = {
    id: 1,
    email: "bob@maybe.com",
    token: "HAAZNEBD12",
    expire: new Date(2020, 1, 1)
};

const defaultUser: IAppUser = { id: -1, email: "", token: "", expire: null };

const appUsers: IAppUser[] = [-2, -1, 0, 1].map(n =&gt; {
    return getUserById(n)
    .flatMap&lt;IAppUser&gt;(getUserToken)
    .filter(appuser =&gt; appuser.expire &gt; new Date())
    .orElse(() =&gt; Maybe.fromValue(defaultUser))
    .getOrElse(null);
});

expect(appUsers).toEqual([defaultUser, defaultUser, defaultUser, appuser]);
</code></pre><h3 id="maybesome---and-maybenone---as-a-function-result">Maybe.some() and Maybe.none() as a function result</h3>
<pre><code>export const getUserById = (id: number): Maybe&lt;IUser&gt; =&gt; {
  const user: IUser = { id, email: "bob@maybe.com" };
  return id &lt; 1 ? Maybe.none() : Maybe.some(user);
};

export const getUserToken = (user: IUser): Maybe&lt;IAppUser&gt; =&gt; {
  const { id, email } = user;
  const appuser: IAppUser = {
    id,
    email,
    token: "HAAZNEBD12",
    expire: new Date(2020, 1, 1)
  };
  return !email ? Maybe.none() : Maybe.some(appuser);
};
</code></pre><h3 id="typings">typings</h3>
<pre><code>export interface IUser {
  id: number;
  email: string;
}

export interface IAppUser extends IUser {
  id: number;
  email: string;
  token: string;
  expire: Date;
}
</code></pre><h2 id="to-clone-and-run-the-project">To clone and run the project</h2>
<hr />
<p><code>git clone https://github.com/bouraine/maybe-monade.git</code></p>
<p><code>npm install</code> install npm packages</p>
<p><code>npm run test</code> to run jest tests</p>
<p><code>npm run test:watch</code> tests with watch option</p>
<p><code>tsc</code> or <code>npm run build</code> to build project</p>
<h2 id="contributing-to-maybe-monade">Contributing to maybe-monade</h2>
<hr />
<p>Feel free to submit issues, request features or contribute by sending a pull request.</p>
<h3 id="issues">Issues</h3>
<p><a href="https://github.com/bouraine/maybe-monade/issues">https://github.com/bouraine/maybe-monade/issues</a></p>
<h3 id="pull-requests">Pull Requests</h3>
<p><a href="https://github.com/bouraine/maybe-monade/pulls">https://github.com/bouraine/maybe-monade/pulls</a></p>
</body></html>